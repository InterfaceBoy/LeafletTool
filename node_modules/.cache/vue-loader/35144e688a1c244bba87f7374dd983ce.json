{"remainingRequest":"/Users/heyuanpeng/个人项目/grid/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/heyuanpeng/个人项目/grid/src/components/circleRing.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/heyuanpeng/个人项目/grid/src/components/circleRing.vue","mtime":1586942496842},{"path":"/Users/heyuanpeng/个人项目/grid/node_modules/cache-loader/dist/cjs.js","mtime":1573543948041},{"path":"/Users/heyuanpeng/个人项目/grid/node_modules/babel-loader/lib/index.js","mtime":1586942665794},{"path":"/Users/heyuanpeng/个人项目/grid/node_modules/cache-loader/dist/cjs.js","mtime":1573543948041},{"path":"/Users/heyuanpeng/个人项目/grid/node_modules/vue-loader/lib/index.js","mtime":1573543948284}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport IEcharts from \"vue-echarts-v3\";\nexport default {\n  props: [\n    \"percent\",\n    \"prevPercentValue\",\n    \"allDistrictAlert\",\n    \"allDistrictExpain\",\n    \"explainIsShow\"\n  ],\n  components: {\n    IEcharts\n  },\n  computed: {\n    poptipContent() {\n      let explainJudge = this.allDistrictAlert.explainJudge;\n      let meaning = this.allDistrictExpain.meaning;\n      let mode = this.allDistrictExpain.mode;\n      if (explainJudge === \"forward\") {\n        explainJudge = \"正向评价，越高越好\";\n        return `指数含义:${meaning};\\n计算方式:${mode};\\n评价基准:${explainJudge};`;\n      } else if (explainJudge === \"negative\") {\n        explainJudge = \"负向评价,越低越好\";\n        return `指数含义:${meaning};\\n计算方式:${mode};\\n评价基准:${explainJudge};`;\n      }\n    },\n    colorList() {\n      let value = this.percent;\n      let alertValue = this.allDistrictAlert.alertValue;\n      let judge = this.allDistrictAlert.alertJudge;\n      let c1 = this.allDistrictAlert.criticalValue1;\n      let c2 = this.allDistrictAlert.criticalValue2;\n      let c3 = this.allDistrictAlert.criticalValue3;\n      let explainJudge = this.allDistrictAlert.explainJudge;\n      // let meaning = this.allDistrictExpain.meaning;\n      // let mode = this.allDistrictExpain.mode;\n      if (explainJudge === \"forward\") {\n        explainJudge = \"正向评价，越高越好\";\n        return [\n          {\n            txt: \"预警\",\n            color: \"#f71b07\",\n            showPoint: `${\n              judge === \"high\" ? value > alertValue : value < alertValue\n            }`,\n            valueSet: ``,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"存在风险\",\n            color: \"#f7a307\",\n            valueSet: `0`,\n            showPoint: `${\n              value >= 0 && value <= c1\n                ? judge === \"high\"\n                  ? value < alertValue\n                  : value > alertValue\n                : false\n            }`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"一般\",\n            color: \"#f7d307\",\n            valueSet: `${c1}`,\n            showPoint: `${value > c1 && value <= c2}`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"良好\",\n            color: \"#047878\",\n            valueSet: `${c2}`,\n            showPoint: `${value > c2 && value <= c3}`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"健康\",\n            color: \"#2a7804\",\n            showPoint: `${value > c3}`,\n            valueSet: `${c3} +∞`,\n            left: `${(value / c3) * 70}`\n          }\n        ];\n      } else if (explainJudge === \"negative\") {\n        explainJudge = \"负向评价,越低越好\";\n        return [\n          {\n            txt: \"健康\",\n            color: \"#2a7804\",\n            valueSet: `0`,\n            showPoint: `${value >= 0 && value <= c1}`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"良好\",\n            color: \"#047878\",\n            valueSet: `${c1}`,\n            showPoint: `${value > c1 && value <= c2}`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"一般\",\n            color: \"#f7d307\",\n            valueSet: `${c2}`,\n            showPoint: `${value > c2 && value <= c3}`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"存在风险\",\n            color: \"#f7a307\",\n            valueSet: `${c3} +∞`,\n            showPoint: `${\n              value > c3\n                ? judge === \"high\"\n                  ? value < alertValue\n                  : value > alertValue\n                : false\n            }`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"预警\",\n            color: \"#f71b07\",\n            showPoint: `${\n              judge === \"high\" ? value > alertValue : value < alertValue\n            }`,\n            valueSet: ``,\n            left: `${(value / c3) * 70}`\n          }\n        ];\n      }\n    },\n    gauge() {\n      let data = this.percent;\n      var goodColor = \"#2a7804\";\n      var notgoodColor = \"#047878\";\n      var generalColor = \"#f7d307\";\n      var riskColor = \"#f7a307\";\n      var alertColor = \"#f71b07\";\n      var color = [[]];\n      if (\n        this.allDistrictAlert.explainJudge === \"forward\" &&\n        this.allDistrictAlert.alertJudge === \"low\"\n      ) {\n        color = [\n          [this.allDistrictAlert.alertValue, alertColor],\n          [this.allDistrictAlert.criticalValue1, riskColor],\n          [this.allDistrictAlert.criticalValue2, generalColor],\n          [this.allDistrictAlert.criticalValue3, notgoodColor],\n          [1, goodColor]\n        ];\n      } else if (this.allDistrictAlert.explainJudge === \"negative\") {\n        color = [\n          [this.allDistrictAlert.alertValue, alertColor],\n          [this.allDistrictAlert.criticalValue1, goodColor],\n          [this.allDistrictAlert.criticalValue2, notgoodColor],\n          [this.allDistrictAlert.criticalValue3, generalColor],\n          [1, riskColor]\n        ];\n      }\n      let option = {\n        tooltip: {\n          formatter: \"{a} <br/>{b} : {c}%\"\n        },\n        toolbox: {\n          show: false,\n          feature: {\n            restore: {},\n            saveAsImage: {}\n          }\n        },\n        grid: {\n          containLabel: true\n        },\n        series: [\n          {\n            radius: \"100%\", //仪表大小\n            name: \"全区综合评价\",\n            type: \"gauge\",\n            axisLine: {\n              show: true,\n              lineStyle: {\n                // 属性lineStyle控制线条样式\n                color: color,\n                width: 7 //表盘宽度\n              }\n            },\n            // 分割线设置\n            splitLine: {\n              length: 12\n            },\n            // 指针样式\n            itemStyle: {\n              borderType: \"dotted\"\n            },\n            detail: {\n              fontSize: 20,\n              fontFamily: \"Microsoft YaHei\",\n              formatter: \"{value}\"\n            },\n            data: [{ value: data }],\n            max: 1\n          }\n        ]\n      };\n      return option;\n    }\n  },\n  created() {},\n  mounted() {\n    // this.circle_eighth();\n  },\n  methods: {\n    // circle_eighth() {\n    //   // 获取Canvas对象(画布)\n    //   let canvas = document.getElementById(\"myCanvas_circle_eighth\");\n    //   if (canvas.getContext) {\n    //     let ctx = canvas.getContext(\"2d\");\n    //     ctx.beginPath();\n    //     ctx.lineWidth = 3;\n    //     ctx.fillStyle = \"#3dc4c4\";\n    //     ctx.moveTo(10, 0);\n    //     ctx.lineTo(40, 0);\n    //     ctx.arcTo(10, 0, 40, 0, 30);\n    //     ctx.closePath();\n    //     ctx.moveTo(25, 30);\n    //     ctx.lineTo(40, 0);\n    //     ctx.lineTo(10, 0);\n    //     ctx.fill();\n    //   }\n    // }\n  }\n};\n",{"version":3,"sources":["circleRing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"circleRing.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"images\">\n      <!-- <i-Circle :percent=\"Number(percent*100)\" stroke-color=\"#3DC5C4\" :size=\"150\"> -->\n      <IEcharts :option=\"gauge\" :resizable=\"true\" :notMerge=\"true\"></IEcharts>\n      <!-- <span class=\"demo-circle-inner\">{{percent}}</span> -->\n      <span\n        class=\"trend_arrow_position\"\n        :class=\"{'trend_arrow':(prevPercentValue!==1),'trend_arrow_red':(percent*(1.1) <=prevPercentValue),'trend_arrow_blue':(percent >= prevPercentValue),'trend_arrow_yellow':(percent < prevPercentValue && percent*1.1 >= prevPercentValue)}\"\n      ></span>\n      <!-- 评价提示信息 -->\n      <Poptip word-wrap width=\"300\" :transfer=\"true\" class=\"poptip\">\n        <div slot=\"title\">网格运行指数</div>\n        <Icon type=\"ios-alert\" size=\"15\" class=\"help-icon\"></Icon>\n        <!-- 评价指标总览 -->\n        <div slot=\"content\">\n          <div class=\"color-progress-warp\">\n            <div\n              class=\"color-progress\"\n              v-for=\"(itemColor,index) in colorList\"\n              :key=\"index\"\n              :style=\"{background:itemColor.color}\"\n            >\n              <!-- <div\n                        class=\"color-progress-point\"\n                        :style=\"{left:itemColor.left>94?'94%':itemColor.left+'%'}\"\n              ></div>-->\n              <div class=\"color-progress-point\" v-if=\"itemColor.showPoint=='true'\"></div>\n              <span class=\"color-progress-txt\">{{itemColor.txt}}</span>\n              <span class=\"color-progress-valueSet\">{{itemColor.valueSet}}</span>\n            </div>\n          </div>\n        </div>\n        <!-- 评价说明 -->\n        <div slot=\"content\" style=\"color:#000\">{{poptipContent}}</div>\n      </Poptip>\n      <!-- </i-Circle> -->\n      <!-- 引入canvas标签 画八分之一圆 -->\n      <!-- <div>\n        <canvas id=\"myCanvas_circle_eighth\" width=\"50px\" height=\"50px\">您的浏览器不支持canvas标签,请升级!</canvas>\n      </div>-->\n    </div>\n  </div>\n</template>\n<script>\nimport IEcharts from \"vue-echarts-v3\";\nexport default {\n  props: [\n    \"percent\",\n    \"prevPercentValue\",\n    \"allDistrictAlert\",\n    \"allDistrictExpain\",\n    \"explainIsShow\"\n  ],\n  components: {\n    IEcharts\n  },\n  computed: {\n    poptipContent() {\n      let explainJudge = this.allDistrictAlert.explainJudge;\n      let meaning = this.allDistrictExpain.meaning;\n      let mode = this.allDistrictExpain.mode;\n      if (explainJudge === \"forward\") {\n        explainJudge = \"正向评价，越高越好\";\n        return `指数含义:${meaning};\\n计算方式:${mode};\\n评价基准:${explainJudge};`;\n      } else if (explainJudge === \"negative\") {\n        explainJudge = \"负向评价,越低越好\";\n        return `指数含义:${meaning};\\n计算方式:${mode};\\n评价基准:${explainJudge};`;\n      }\n    },\n    colorList() {\n      let value = this.percent;\n      let alertValue = this.allDistrictAlert.alertValue;\n      let judge = this.allDistrictAlert.alertJudge;\n      let c1 = this.allDistrictAlert.criticalValue1;\n      let c2 = this.allDistrictAlert.criticalValue2;\n      let c3 = this.allDistrictAlert.criticalValue3;\n      let explainJudge = this.allDistrictAlert.explainJudge;\n      // let meaning = this.allDistrictExpain.meaning;\n      // let mode = this.allDistrictExpain.mode;\n      if (explainJudge === \"forward\") {\n        explainJudge = \"正向评价，越高越好\";\n        return [\n          {\n            txt: \"预警\",\n            color: \"#f71b07\",\n            showPoint: `${\n              judge === \"high\" ? value > alertValue : value < alertValue\n            }`,\n            valueSet: ``,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"存在风险\",\n            color: \"#f7a307\",\n            valueSet: `0`,\n            showPoint: `${\n              value >= 0 && value <= c1\n                ? judge === \"high\"\n                  ? value < alertValue\n                  : value > alertValue\n                : false\n            }`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"一般\",\n            color: \"#f7d307\",\n            valueSet: `${c1}`,\n            showPoint: `${value > c1 && value <= c2}`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"良好\",\n            color: \"#047878\",\n            valueSet: `${c2}`,\n            showPoint: `${value > c2 && value <= c3}`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"健康\",\n            color: \"#2a7804\",\n            showPoint: `${value > c3}`,\n            valueSet: `${c3} +∞`,\n            left: `${(value / c3) * 70}`\n          }\n        ];\n      } else if (explainJudge === \"negative\") {\n        explainJudge = \"负向评价,越低越好\";\n        return [\n          {\n            txt: \"健康\",\n            color: \"#2a7804\",\n            valueSet: `0`,\n            showPoint: `${value >= 0 && value <= c1}`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"良好\",\n            color: \"#047878\",\n            valueSet: `${c1}`,\n            showPoint: `${value > c1 && value <= c2}`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"一般\",\n            color: \"#f7d307\",\n            valueSet: `${c2}`,\n            showPoint: `${value > c2 && value <= c3}`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"存在风险\",\n            color: \"#f7a307\",\n            valueSet: `${c3} +∞`,\n            showPoint: `${\n              value > c3\n                ? judge === \"high\"\n                  ? value < alertValue\n                  : value > alertValue\n                : false\n            }`,\n            left: `${(value / c3) * 70}`\n          },\n          {\n            txt: \"预警\",\n            color: \"#f71b07\",\n            showPoint: `${\n              judge === \"high\" ? value > alertValue : value < alertValue\n            }`,\n            valueSet: ``,\n            left: `${(value / c3) * 70}`\n          }\n        ];\n      }\n    },\n    gauge() {\n      let data = this.percent;\n      var goodColor = \"#2a7804\";\n      var notgoodColor = \"#047878\";\n      var generalColor = \"#f7d307\";\n      var riskColor = \"#f7a307\";\n      var alertColor = \"#f71b07\";\n      var color = [[]];\n      if (\n        this.allDistrictAlert.explainJudge === \"forward\" &&\n        this.allDistrictAlert.alertJudge === \"low\"\n      ) {\n        color = [\n          [this.allDistrictAlert.alertValue, alertColor],\n          [this.allDistrictAlert.criticalValue1, riskColor],\n          [this.allDistrictAlert.criticalValue2, generalColor],\n          [this.allDistrictAlert.criticalValue3, notgoodColor],\n          [1, goodColor]\n        ];\n      } else if (this.allDistrictAlert.explainJudge === \"negative\") {\n        color = [\n          [this.allDistrictAlert.alertValue, alertColor],\n          [this.allDistrictAlert.criticalValue1, goodColor],\n          [this.allDistrictAlert.criticalValue2, notgoodColor],\n          [this.allDistrictAlert.criticalValue3, generalColor],\n          [1, riskColor]\n        ];\n      }\n      let option = {\n        tooltip: {\n          formatter: \"{a} <br/>{b} : {c}%\"\n        },\n        toolbox: {\n          show: false,\n          feature: {\n            restore: {},\n            saveAsImage: {}\n          }\n        },\n        grid: {\n          containLabel: true\n        },\n        series: [\n          {\n            radius: \"100%\", //仪表大小\n            name: \"全区综合评价\",\n            type: \"gauge\",\n            axisLine: {\n              show: true,\n              lineStyle: {\n                // 属性lineStyle控制线条样式\n                color: color,\n                width: 7 //表盘宽度\n              }\n            },\n            // 分割线设置\n            splitLine: {\n              length: 12\n            },\n            // 指针样式\n            itemStyle: {\n              borderType: \"dotted\"\n            },\n            detail: {\n              fontSize: 20,\n              fontFamily: \"Microsoft YaHei\",\n              formatter: \"{value}\"\n            },\n            data: [{ value: data }],\n            max: 1\n          }\n        ]\n      };\n      return option;\n    }\n  },\n  created() {},\n  mounted() {\n    // this.circle_eighth();\n  },\n  methods: {\n    // circle_eighth() {\n    //   // 获取Canvas对象(画布)\n    //   let canvas = document.getElementById(\"myCanvas_circle_eighth\");\n    //   if (canvas.getContext) {\n    //     let ctx = canvas.getContext(\"2d\");\n    //     ctx.beginPath();\n    //     ctx.lineWidth = 3;\n    //     ctx.fillStyle = \"#3dc4c4\";\n    //     ctx.moveTo(10, 0);\n    //     ctx.lineTo(40, 0);\n    //     ctx.arcTo(10, 0, 40, 0, 30);\n    //     ctx.closePath();\n    //     ctx.moveTo(25, 30);\n    //     ctx.lineTo(40, 0);\n    //     ctx.lineTo(10, 0);\n    //     ctx.fill();\n    //   }\n    // }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.trend_arrow_position {\n  position: absolute;\n  z-index: 99;\n  bottom: 28%;\n  right: 37%;\n}\n.images {\n  position: relative;\n  width: 20rem;\n  height: 200px;\n  position: relative;\n  margin: 2rem auto;\n  text-align: center;\n  span:last-child {\n    transform: translate(0.2rem, -0.6rem);\n    position: absolute;\n  }\n}\n.poptip {\n  position: absolute;\n  bottom: 24%;\n  right: 26%;\n  .help-icon {\n    margin-right: 0.6rem;\n    margin-top: 0.5rem;\n    float: right;\n    cursor: pointer;\n    &:hover {\n      color: turquoise;\n    }\n  }\n}\n.demo-circle-inner {\n  font-size: 28px;\n  color: #3dc5c4;\n  font-weight: bold;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\n    Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n}\n#myCanvas_circle_eighth {\n  transform: translateY(-0.6rem);\n}\n</style>\n"]}]}